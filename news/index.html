<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • threeBrain</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">threeBrain</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.5.9004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/A-getting-started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/B-electrode-localization.html">Electrode Localization</a>
    </li>
    <li>
      <a href="../articles/C-data-visualization.html">Data Visualization (Electrodes)</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dipterix/threeBrain/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/dipterix/threeBrain/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.6" id="threebrain-026">threeBrain 0.2.6<a class="anchor" aria-label="anchor" href="#threebrain-026"></a></h2>
<div class="section level3">
<h3 id="changes-0-2-6">Changes<a class="anchor" aria-label="anchor" href="#changes-0-2-6"></a></h3>
<ul><li>Allow users to pan the camera when localizing electrodes</li></ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-2-6">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-2-6"></a></h3>
<ul><li>Fixed <code>NifTi</code> orientation issues and use <code>sform</code>
</li>
<li>Fixed localization issue when <code>NifTi</code> transform matrix has determinant not equally to 1</li>
<li>Fixed volume shader, resolved shift issues when panning the camera</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.5" id="threebrain-025">threeBrain 0.2.5<small>2022-05-30</small><a class="anchor" aria-label="anchor" href="#threebrain-025"></a></h2>
<div class="section level3">
<h3 id="changes-0-2-5">Changes<a class="anchor" aria-label="anchor" href="#changes-0-2-5"></a></h3>
<ul><li>Surface <code>sync from voxels</code> now clamp the surface nodes</li>
<li>Added <code>Voxel Display</code> controller to toggle volume display modes</li>
<li>Changed shortcut <code>l</code> from <code>Voxel Type</code> to <code>Voxel Display</code>
</li>
<li>Volume <code>fragmentShader</code> uses non-linear function to calculate fragment colors combined with face normal; this will create smoother results</li>
<li>
<code>DataCube2</code> geometry uses <code>ConvexHull</code> instead of box/sphere to improve the performance</li>
<li>
<code>DataCube2</code> are no longer hidden when <code>sync from voxels</code> is on: users can use shortcuts <code>l</code> and <code>k</code> to easily control the visibility.</li>
<li>
<code>download_template_subject</code> can download other templates such as <code>fsaverage</code>, <code>cvs_avg35</code>, <code>bert</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-2-5">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-2-5"></a></h3>
<ul><li>Fixed a volume rendering issue where ray-marching directions are not calculated correctly</li>
<li>Fixed color not set correctly when changing <code>Voxel Labels</code> while surface colors are <code>sync from voxels</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.4" id="threebrain-024">threeBrain 0.2.4<small>2021-12-03</small><a class="anchor" aria-label="anchor" href="#threebrain-024"></a></h2>
<p>This version mainly works on the electrode localization. Most changes occur in the <code>JavaScript</code> engine.</p>
<div class="section level3">
<h3 id="changes-0-2-4">Changes<a class="anchor" aria-label="anchor" href="#changes-0-2-4"></a></h3>
<ul><li>Allows electrodes to be reset</li>
<li>Displays electrode labels along with the electrodes</li>
<li>Allows resizing electrode size on the fly</li>
<li>Allows resizing the electrode labels</li>
<li>Localization module has been integrated into <code>RAVE</code>
</li>
<li>Added line mesh to mark the distance of the electrode deviating from its original position. The line color changes with the distance value.</li>
</ul><div class="section level4">
<h4 id="improvements-0-2-4">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-2-4"></a></h4>
<ul><li>Improved localization precision</li>
<li>Auto-adjusting electrodes now respects the topology</li>
<li>Electrodes in the localization mode now have <code>LocElectrode</code> class</li>
<li>Volume rendering and ray-casters now respects the transform matrices</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.3" id="threebrain-023">threeBrain 0.2.3<small>2021-10-13</small><a class="anchor" aria-label="anchor" href="#threebrain-023"></a></h2>
<div class="section level3">
<h3 id="changes-0-2-3">Changes<a class="anchor" aria-label="anchor" href="#changes-0-2-3"></a></h3>
<ul><li>Electrode localization now has a <code>shiny</code> application</li></ul><div class="section level4">
<h4 id="improvements-0-2-3">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-2-3"></a></h4>
<ul><li>Added 3 vignettes</li></ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.2" id="threebrain-022">threeBrain 0.2.2<a class="anchor" aria-label="anchor" href="#threebrain-022"></a></h2>
<div class="section level3">
<h3 id="changes-0-2-2">Changes<a class="anchor" aria-label="anchor" href="#changes-0-2-2"></a></h3>
<ul><li>Supported video content to display auditory visual stimuli along the response</li>
<li>Default to closing the <code>default</code> and <code>volume</code> side folders</li>
</ul><div class="section level4">
<h4 id="improvements-0-2-2">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-2-2"></a></h4>
<ul><li>Fixed electrode localization interpolation issue</li>
<li>Proper dispose the localized electrodes</li>
<li>Fixed screenshot and video recording functions</li>
<li>Renamed recording button to <code>Chrome</code>-specific</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.1" id="threebrain-021">threeBrain 0.2.1<small>2021-08-03</small><a class="anchor" aria-label="anchor" href="#threebrain-021"></a></h2>
<div class="section level3">
<h3 id="changes-0-2-1">Changes<a class="anchor" aria-label="anchor" href="#changes-0-2-1"></a></h3>
<ul><li>Finally, electrode localization is added!</li>
<li>Added <code>TextTexture</code> in the internal code to display text <code>Sprite</code> easily</li>
<li>Can download electrodes as <code>csv</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="threebrain-020">threeBrain 0.2.0<small>2021-07-27</small><a class="anchor" aria-label="anchor" href="#threebrain-020"></a></h2>
<div class="section level3">
<h3 id="changes-0-2-0">Changes<a class="anchor" aria-label="anchor" href="#changes-0-2-0"></a></h3>
<ul><li>More efficient volume rendering with transparency</li>
<li>Added shader functions to surface instances, allowing color rendering from volume, electrodes, or vertices (major change)</li>
<li>Added color-map generator for surface and volume data</li>
<li>Added method to generate data cube (volume) from <code>MNI305</code> coordinates</li>
<li>Optimized loading procedure</li>
<li>Removed <code>crayon</code>, <code>base64enc</code>, <code>htmltools</code>, <code>pryr</code> from dependence</li>
</ul><div class="section level4">
<h4 id="improvements-0-2-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-2-0"></a></h4>
<ul><li>Bumped <code>threejs</code> version to <code>v131dev</code>
</li>
<li>Fixed surface transparency losing fragments issue</li>
<li>Added loaders to shiny applications to avoid performance issues on old computers</li>
<li>Fixed electrodes not selected on mouse click-down (on <code>Firefox</code>)</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.9" id="threebrain-019">threeBrain 0.1.9<small>2021-01-10</small><a class="anchor" aria-label="anchor" href="#threebrain-019"></a></h2>
<div class="section level3">
<h3 id="changes-0-1-9">Changes<a class="anchor" aria-label="anchor" href="#changes-0-1-9"></a></h3>
<ul><li>Added backend engine for volume rendering to show atlas files</li>
<li>Standalone viewers now use native system tools for <code>Mac</code> and <code>Linux</code> (On <code>Windows</code>, it still needs <code>R</code> to be installed)</li>
</ul><div class="section level4">
<h4 id="improvements-0-1-9">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-9"></a></h4>
<ul><li>Allows super slow play speed to show animations in millisecond level</li>
<li>Bumped <code>threejs</code> to a newer version and fixed compatibility issues</li>
<li>Animation time range is more reasonable</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.8" id="threebrain-018">threeBrain 0.1.8<small>2020-06-23</small><a class="anchor" aria-label="anchor" href="#threebrain-018"></a></h2>
<div class="section level3">
<h3 id="changes-0-1-8">Changes<a class="anchor" aria-label="anchor" href="#changes-0-1-8"></a></h3>
<ul><li>Screenshot now downloads <code>pdf</code> format</li></ul><div class="section level4">
<h4 id="improvements-0-1-8">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-8"></a></h4>
<ul><li>Fixed <code>freesurferformats</code> face index starting from 1 instead of 0</li></ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.7" id="threebrain-017">threeBrain 0.1.7<small>2020-05-12</small><a class="anchor" aria-label="anchor" href="#threebrain-017"></a></h2>
<div class="section level3">
<h3 id="changes-0-1-7">Changes<a class="anchor" aria-label="anchor" href="#changes-0-1-7"></a></h3>
<ul><li>Now displays <code>MNI305</code> coordinates instead of <code>tkRAS</code> coordinates</li>
<li>Removed <code>reticulate</code> and related functions to support native R functions</li>
</ul><div class="section level4">
<h4 id="improvements-0-1-7">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-7"></a></h4>
<ul><li>Fixed <code>MNI305</code> calculation issues</li>
<li>Internally calculates anterior commissure</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.6" id="threebrain-016">threeBrain 0.1.6<a class="anchor" aria-label="anchor" href="#threebrain-016"></a></h2>
<div class="section level3">
<h3 id="changes-0-1-6">Changes<a class="anchor" aria-label="anchor" href="#changes-0-1-6"></a></h3>
<ul><li>Implemented <code>view_ct_t1</code> to view <code>CT</code> aligned to <code>T1</code> images</li>
<li>Updated document on how to generate <code>FreeSurfer</code> brain</li>
<li>Removed dependency to <code>nibabel</code> and use native R packages</li>
<li>Re-designed legends, added options to show, hide display information</li>
<li>Added screenshot to download as image</li>
</ul><div class="section level4">
<h4 id="improvements-0-1-6">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-6"></a></h4>
<ul><li>Added hints for keyboard shortcuts</li></ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.5" id="threebrain-015">threeBrain 0.1.5<small>2020-01-20</small><a class="anchor" aria-label="anchor" href="#threebrain-015"></a></h2>
<div class="section level3">
<h3 id="changes-0-1-5">Changes<a class="anchor" aria-label="anchor" href="#changes-0-1-5"></a></h3>
<ul><li>Import <code>FreeSurfer</code> and <code>SUMA</code> files <code>sulc</code>
</li>
<li>Control element update</li>
<li>Added <code>brain_proxy</code> to control in shiny element</li>
<li>Separated display and threshold data</li>
<li>
<code>FreeMesh</code> material can be switched between <code>MeshPhongMaterial</code> and <code>MeshLambertMaterial</code>
</li>
</ul><div class="section level4">
<h4 id="improvements-0-1-5">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-5"></a></h4>
<ul><li>UI will blur focus when clicking on canvas</li>
<li>Allow customizing widgets <code>background</code>, <code>cex</code> (font magnification), <code>timestamp</code> (display time)</li>
<li>Allow <code>controllers</code> (list) to override control UI</li>
<li>Added preset <code>syncviewers</code> (<code>threejs_brain(control_presets = ...)</code>) to synchronize multiple viewers in shiny environment</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.4" id="threebrain-014">threeBrain 0.1.4<small>2019-10-18</small><a class="anchor" aria-label="anchor" href="#threebrain-014"></a></h2>
<div class="section level3">
<h3 id="changes-0-1-4">Changes<a class="anchor" aria-label="anchor" href="#changes-0-1-4"></a></h3>
<ul><li>Implemented a new mesh type - volume rendering using ray marching</li>
<li>Added alternative methods to read <code>.nii</code> files, <code>nibabel</code> is now optional</li>
<li>Customized color palettes and value range for better visualizations with outliers</li>
<li>Only requires <code>T1.mgz</code> or <code>brainmask</code> of <code>brain.finalsurf</code> is not found. This allows users only run <code>FreeSurfer</code> to the first stage, which only takes around 8 to 10 minutes instead of 6 hours.</li>
<li>Fully compatible with <code>htmlwidgets</code> in <code>shiny</code> mode. When calling <code>threejsBrainOutput</code> under <code><a href="https://rdrr.io/pkg/shiny/man/renderUI.html" class="external-link">shiny::renderUI</a></code>, the <code>DOM</code> element might get reset by <code>shiny</code>, causing a new 3D viewer created. This might consume more resource, causing memory leaks and even conflict context renderings. Also event listeners couldn’t reset correctly. A cache is created and now is reusing the canvas.</li>
</ul><div class="section level4">
<h4 id="improvements-0-1-4">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-4"></a></h4>
<ul><li>More flexible directory requirement</li>
<li>Added dispose function to canvas so that memory gets cleared correctly</li>
<li>Renderer optimization and memory optimization</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-1-4">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-1-4"></a></h4>
<ul><li>Fixed keyboard listeners locking the keys</li>
<li>Fixed huge memory leaks due to <code>threejs</code> not garbage collecting geometries and textures</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.3" id="threebrain-013">threeBrain 0.1.3<small>2019-09-10</small><a class="anchor" aria-label="anchor" href="#threebrain-013"></a></h2>
<div class="section level3">
<h3 id="changes-0-1-3">Changes<a class="anchor" aria-label="anchor" href="#changes-0-1-3"></a></h3>
<ul><li>File structure change: now directly read in from <code>FreeSurfer</code> folder</li>
<li>Added readers for <code>.mgz</code>, <code>.m3z</code> files</li>
<li>Added coordinate system to align volume with surface data</li>
<li>Implemented side-viewers, added three side cameras at XYZ axis</li>
<li>Can now read, export electrodes as csv file</li>
<li>Re-write brain generating function</li>
<li>Can display/switch multiple value types</li>
<li>Added transparency to surfaces</li>
<li>Implemented experimental electrode localization</li>
<li>Automatically determine color type (continuous or discrete) and value range</li>
</ul><div class="section level4">
<h4 id="improvements-0-1-3">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-3"></a></h4>
<ul><li>Shortcuts available at <a href="https://github.com/dipterix/threeBrain/blob/master/shortcuts.md" class="external-link">here</a>
</li>
<li>Optimized electrode value settings</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.2" id="threebrain-012">threeBrain 0.1.2<small>2019-06-28</small><a class="anchor" aria-label="anchor" href="#threebrain-012"></a></h2>
<div class="section level3">
<h3 id="changes-0-1-2">Changes<a class="anchor" aria-label="anchor" href="#changes-0-1-2"></a></h3>
<ul><li>Re-draw canvas on a 2D context to make customized overlay directly on canvas.</li>
<li>Implemented continuous and discrete legends to replace D3.</li>
<li>Added support to set main camera position and initial zoom level.</li>
<li>Added 3D scatter plot and examples.</li>
<li>Use hybrid render mode when animation not required to save battery usage.</li>
<li>Improved color palette calculation.</li>
<li>Support customized title.</li>
</ul><div class="section level4">
<h4 id="improvements-0-1-2">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-2"></a></h4>
<ul><li>Support customized datapath when saving widgets.</li>
<li>Added instructions on how to embed widgets into websites without R.</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.1" id="threebrain-011">threeBrain 0.1.1<a class="anchor" aria-label="anchor" href="#threebrain-011"></a></h2>
<ul><li>Implemented three types of geometries: plane, sphere and free. A free geometry takes arbitrary geometry vertices and faces to form a 3D mesh object.</li>
<li>Added animation to sphere object.</li>
<li>Replaced old JavaScript with npx driven modules.</li>
<li>Implemented D3 side-widget</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="threebrain-010">threeBrain 0.1.0<a class="anchor" aria-label="anchor" href="#threebrain-010"></a></h2>
<ul><li>Initial private beta release!</li></ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Zhengjia Wang, John Magnotti, Michael Beauchamp.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

