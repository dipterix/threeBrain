function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}var r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],a=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function n(t,r,a,n,e,i){if("string"==typeof t&&(t=document.getElementById(t)),t&&"naturalWidth"in t){var g=e?"offset":"natural",v=t[g+"Width"],s=t[g+"Height"];if("string"==typeof r&&(r=document.getElementById(r)),r&&"getContext"in r){i||(r.style.width=v+"px",r.style.height=s+"px"),r.width=v,r.height=s;var u=r.getContext("2d");u.clearRect(0,0,v,s),u.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,v,s),isNaN(a)||a<1||(n?o(r,0,0,v,s,a):f(r,0,0,v,s,a))}}}function e(r,a,n,e,o){if("string"==typeof r&&(r=document.getElementById(r)),!r||"object"!==t(r)||!("getContext"in r))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var i=r.getContext("2d");try{return i.getImageData(a,n,e,o)}catch(t){throw new Error("unable to access image data: "+t)}}function o(t,r,a,n,o,f){if(!(isNaN(f)||f<1)){f|=0;var g=e(t,r,a,n,o);g=i(g,r,a,n,o,f),t.getContext("2d").putImageData(g,r,a)}}function i(t,n,e,o,i,f){for(var g,s=t.data,u=2*f+1,c=o-1,l=i-1,x=f+1,b=x*(x+1)/2,y=new v,h=y,m=1;m<u;m++)h=h.next=new v,m===x&&(g=h);h.next=y;for(var d=null,p=null,w=0,C=0,B=r[f],E=a[f],I=0;I<i;I++){h=y;for(var N=s[C],R=s[C+1],D=s[C+2],G=s[C+3],S=0;S<x;S++)h.r=N,h.g=R,h.b=D,h.a=G,h=h.next;for(var A=0,W=0,H=0,T=0,j=x*N,k=x*R,q=x*D,z=x*G,F=b*N,J=b*R,K=b*D,L=b*G,M=1;M<x;M++){var O=C+((c<M?c:M)<<2),P=s[O],Q=s[O+1],U=s[O+2],V=s[O+3],X=x-M;F+=(h.r=P)*X,J+=(h.g=Q)*X,K+=(h.b=U)*X,L+=(h.a=V)*X,A+=P,W+=Q,H+=U,T+=V,h=h.next}d=y,p=g;for(var Y=0;Y<o;Y++){var Z=L*B>>E;if(s[C+3]=Z,0!==Z){var $=255/Z;s[C]=(F*B>>E)*$,s[C+1]=(J*B>>E)*$,s[C+2]=(K*B>>E)*$}else s[C]=s[C+1]=s[C+2]=0;F-=j,J-=k,K-=q,L-=z,j-=d.r,k-=d.g,q-=d.b,z-=d.a;var _=Y+f+1;_=w+(_<c?_:c)<<2,F+=A+=d.r=s[_],J+=W+=d.g=s[_+1],K+=H+=d.b=s[_+2],L+=T+=d.a=s[_+3],d=d.next;var tt=p,rt=tt.r,at=tt.g,nt=tt.b,et=tt.a;j+=rt,k+=at,q+=nt,z+=et,A-=rt,W-=at,H-=nt,T-=et,p=p.next,C+=4}w+=o}for(var ot=0;ot<o;ot++){var it=s[C=ot<<2],ft=s[C+1],gt=s[C+2],vt=s[C+3],st=x*it,ut=x*ft,ct=x*gt,lt=x*vt,xt=b*it,bt=b*ft,yt=b*gt,ht=b*vt;h=y;for(var mt=0;mt<x;mt++)h.r=it,h.g=ft,h.b=gt,h.a=vt,h=h.next;for(var dt=o,pt=0,wt=0,Ct=0,Bt=0,Et=1;Et<=f;Et++){C=dt+ot<<2;var It=x-Et;xt+=(h.r=it=s[C])*It,bt+=(h.g=ft=s[C+1])*It,yt+=(h.b=gt=s[C+2])*It,ht+=(h.a=vt=s[C+3])*It,Bt+=it,pt+=ft,wt+=gt,Ct+=vt,h=h.next,Et<l&&(dt+=o)}C=ot,d=y,p=g;for(var Nt=0;Nt<i;Nt++){var Rt=C<<2;s[Rt+3]=vt=ht*B>>E,vt>0?(vt=255/vt,s[Rt]=(xt*B>>E)*vt,s[Rt+1]=(bt*B>>E)*vt,s[Rt+2]=(yt*B>>E)*vt):s[Rt]=s[Rt+1]=s[Rt+2]=0,xt-=st,bt-=ut,yt-=ct,ht-=lt,st-=d.r,ut-=d.g,ct-=d.b,lt-=d.a,Rt=ot+((Rt=Nt+x)<l?Rt:l)*o<<2,xt+=Bt+=d.r=s[Rt],bt+=pt+=d.g=s[Rt+1],yt+=wt+=d.b=s[Rt+2],ht+=Ct+=d.a=s[Rt+3],d=d.next,st+=it=p.r,ut+=ft=p.g,ct+=gt=p.b,lt+=vt=p.a,Bt-=it,pt-=ft,wt-=gt,Ct-=vt,p=p.next,C+=o}}return t}function f(t,r,a,n,o,i){if(!(isNaN(i)||i<1)){i|=0;var f=e(t,r,a,n,o);f=g(f,r,a,n,o,i),t.getContext("2d").putImageData(f,r,a)}}function g(t,n,e,o,i,f){for(var g,s=t.data,u=2*f+1,c=o-1,l=i-1,x=f+1,b=x*(x+1)/2,y=new v,h=y,m=1;m<u;m++)h=h.next=new v,m===x&&(g=h);h.next=y;for(var d,p,w=null,C=null,B=r[f],E=a[f],I=0,N=0,R=0;R<i;R++){var D=s[N],G=s[N+1],S=s[N+2],A=x*D,W=x*G,H=x*S,T=b*D,j=b*G,k=b*S;h=y;for(var q=0;q<x;q++)h.r=D,h.g=G,h.b=S,h=h.next;for(var z=0,F=0,J=0,K=1;K<x;K++)d=N+((c<K?c:K)<<2),T+=(h.r=D=s[d])*(p=x-K),j+=(h.g=G=s[d+1])*p,k+=(h.b=S=s[d+2])*p,z+=D,F+=G,J+=S,h=h.next;w=y,C=g;for(var L=0;L<o;L++)s[N]=T*B>>E,s[N+1]=j*B>>E,s[N+2]=k*B>>E,T-=A,j-=W,k-=H,A-=w.r,W-=w.g,H-=w.b,d=I+((d=L+f+1)<c?d:c)<<2,T+=z+=w.r=s[d],j+=F+=w.g=s[d+1],k+=J+=w.b=s[d+2],w=w.next,A+=D=C.r,W+=G=C.g,H+=S=C.b,z-=D,F-=G,J-=S,C=C.next,N+=4;I+=o}for(var M=0;M<o;M++){var O=s[N=M<<2],P=s[N+1],Q=s[N+2],U=x*O,V=x*P,X=x*Q,Y=b*O,Z=b*P,$=b*Q;h=y;for(var _=0;_<x;_++)h.r=O,h.g=P,h.b=Q,h=h.next;for(var tt=0,rt=0,at=0,nt=1,et=o;nt<=f;nt++)N=et+M<<2,Y+=(h.r=O=s[N])*(p=x-nt),Z+=(h.g=P=s[N+1])*p,$+=(h.b=Q=s[N+2])*p,tt+=O,rt+=P,at+=Q,h=h.next,nt<l&&(et+=o);N=M,w=y,C=g;for(var ot=0;ot<i;ot++)s[d=N<<2]=Y*B>>E,s[d+1]=Z*B>>E,s[d+2]=$*B>>E,Y-=U,Z-=V,$-=X,U-=w.r,V-=w.g,X-=w.b,d=M+((d=ot+x)<l?d:l)*o<<2,Y+=tt+=w.r=s[d],Z+=rt+=w.g=s[d+1],$+=at+=w.b=s[d+2],w=w.next,U+=O=C.r,V+=P=C.g,X+=Q=C.b,tt-=O,rt-=P,at-=Q,C=C.next,N+=o}return t}var v=function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};export{v as BlurStack,f as canvasRGB,o as canvasRGBA,n as image,g as imageDataRGB,i as imageDataRGBA};
//# sourceMappingURL=stackblur-es.min.js.map
