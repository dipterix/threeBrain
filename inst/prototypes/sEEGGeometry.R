config <- list(
  name = "sEEGGeometry",

  # number of vertices and face indices
  n = c(121L, 200L),

  # internal geometry name
  geometry = "CustomGeometry",

  # whether using UV mapping to derive outlines rather than interactively determine the outlines
  fix_outline = FALSE,

  transform = diag(1, 4L),

  # geometry vertex positions: n_vertices x 3
  position = matrix(c(
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1e-04,3e-04,-2e-04,1e-04,2e-04,-2e-04,1e-04,1e-04,-2e-04,1e-04,-1e-04,-2e-04,1e-04,-2e-04,0,1e-04,-3e-04,2e-04,1e-04,-2e-04,2e-04,1e-04,-1e-04,2e-04,1e-04,1e-04,2e-04,1e-04,2e-04,0,1e-04,3e-04,0,0.2,0.4,-0.2351,0.2,0.3236,-0.3804,0.2,0.1236,-0.3804,0.2,-0.1236,-0.2351,0.2,-0.3236,0,0.2,-0.4,0.2351,0.2,-0.3236,0.3804,0.2,-0.1236,0.3804,0.2,0.1236,0.2351,0.2,0.3236,0,0.2,0.4,0,0.4,0.55,-0.3233,0.4,0.445,-0.5231,0.4,0.17,-0.5231,0.4,-0.17,-0.3233,0.4,-0.445,0,0.4,-0.55,0.3233,0.4,-0.445,0.5231,0.4,-0.17,0.5231,0.4,0.17,0.3233,0.4,0.445,0,0.4,0.55,0,10.2,0.55,-0.3233,10.2,0.445,-0.5231,10.2,0.17,-0.5231,10.2,-0.17,-0.3233,10.2,-0.445,0,10.2,-0.55,0.3233,10.2,-0.445,0.5231,10.2,-0.17,0.5231,10.2,0.17,0.3233,10.2,0.445,0,10.2,0.55,0,10.201,0.55,-0.3233,10.201,0.445,-0.5231,10.201,0.17,-0.5231,10.201,-0.17,-0.3233,10.201,-0.445,0,10.201,-0.55,0.3233,10.201,-0.445,0.5231,10.201,-0.17,0.5231,10.201,0.17,0.3233,10.201,0.445,0,10.201,0.55,0,125,0.55,-0.3233,125,0.445,-0.5231,125,0.17,-0.5231,125,-0.17,-0.3233,125,-0.445,0,125,-0.55,0.3233,125,-0.445,0.5231,125,-0.17,0.5231,125,0.17,0.3233,125,0.445,0,125,0.55,0,126,0.75,-0.4408,126,0.6068,-0.7133,126,0.2318,-0.7133,126,-0.2318,-0.4408,126,-0.6068,0,126,-0.75,0.4408,126,-0.6068,0.7133,126,-0.2318,0.7133,126,0.2318,0.4408,126,0.6068,0,126,0.75,0,127.9,0.75,-0.4408,127.9,0.6068,-0.7133,127.9,0.2318,-0.7133,127.9,-0.2318,-0.4408,127.9,-0.6068,0,127.9,-0.75,0.4408,127.9,-0.6068,0.7133,127.9,-0.2318,0.7133,127.9,0.2318,0.4408,127.9,0.6068,0,127.9,0.75,0,128,0.55,-0.3233,128,0.445,-0.5231,128,0.17,-0.5231,128,-0.17,-0.3233,128,-0.445,0,128,-0.55,0.3233,128,-0.445,0.5231,128,-0.17,0.5231,128,0.17,0.3233,128,0.445,0,128,0.55,0,128,0,0,128,0,0,128,0,0,128,0,0,128,0,0,128,0,0,128,0,0,128,0,0,128,0,0,128,0,0,128,0), nrow = 3L),

  # face indices: n_face x 3
  index = matrix(c(
    0,11,1,11,12,1,1,12,2,12,13,2,2,13,3,13,14,3,3,14,4,14,15,4,4,15,5,15,16,5,5,16,6,16,17,6,6,17,7,17,18,7,7,18,8,18,19,8,8,19,9,19,20,9,9,20,10,20,21,10,11,22,12,22,23,12,12,23,13,23,24,13,13,24,14,24,25,14,14,25,15,25,26,15,15,26,16,26,27,16,16,27,17,27,28,17,17,28,18,28,29,18,18,29,19,29,30,19,19,30,20,30,31,20,20,31,21,31,32,21,22,33,23,33,34,23,23,34,24,34,35,24,24,35,25,35,36,25,25,36,26,36,37,26,26,37,27,37,38,27,27,38,28,38,39,28,28,39,29,39,40,29,29,40,30,40,41,30,30,41,31,41,42,31,31,42,32,42,43,32,33,44,34,44,45,34,34,45,35,45,46,35,35,46,36,46,47,36,36,47,37,47,48,37,37,48,38,48,49,38,38,49,39,49,50,39,39,50,40,50,51,40,40,51,41,51,52,41,41,52,42,52,53,42,42,53,43,53,54,43,44,55,45,55,56,45,45,56,46,56,57,46,46,57,47,57,58,47,47,58,48,58,59,48,48,59,49,59,60,49,49,60,50,60,61,50,50,61,51,61,62,51,51,62,52,62,63,52,52,63,53,63,64,53,53,64,54,64,65,54,55,66,56,66,67,56,56,67,57,67,68,57,57,68,58,68,69,58,58,69,59,69,70,59,59,70,60,70,71,60,60,71,61,71,72,61,61,72,62,72,73,62,62,73,63,73,74,63,63,74,64,74,75,64,64,75,65,75,76,65,66,77,67,77,78,67,67,78,68,78,79,68,68,79,69,79,80,69,69,80,70,80,81,70,70,81,71,81,82,71,71,82,72,82,83,72,72,83,73,83,84,73,73,84,74,84,85,74,74,85,75,85,86,75,75,86,76,86,87,76,77,88,78,88,89,78,78,89,79,89,90,79,79,90,80,90,91,80,80,91,81,91,92,81,81,92,82,92,93,82,82,93,83,93,94,83,83,94,84,94,95,84,84,95,85,95,96,85,85,96,86,96,97,86,86,97,87,97,98,87,88,99,89,99,100,89,89,100,90,100,101,90,90,101,91,101,102,91,91,102,92,102,103,92,92,103,93,103,104,93,93,104,94,104,105,94,94,105,95,105,106,95,95,106,96,106,107,96,96,107,97,107,108,97,97,108,98,108,109,98,99,110,100,110,111,100,100,111,101,111,112,101,101,112,102,112,113,102,102,113,103,113,114,103,103,114,104,114,115,104,104,115,105,115,116,105,105,116,106,116,117,106,106,117,107,117,118,107,107,118,108,118,119,108,108,119,109,119,120,109), nrow = 3L),

  # UV texture coordinates (range from 0,1) out-of-range UV will be treated as no texture (black)
  uv = matrix(c(
    0,0,0.1,0,0.2,0,0.3,0,0.4,0,0.5,0,0.6,0,0.7,0,0.8,0,0.9,0,1,0,0,0,0.1,0,0.2,0,0.3,0,0.4,0,0.5,0,0.6,0,0.7,0,0.8,0,0.9,0,1,0,0,0.0016,0.1,0.0016,0.2,0.0016,0.3,0.0016,0.4,0.0016,0.5,0.0016,0.6,0.0016,0.7,0.0016,0.8,0.0016,0.9,0.0016,1,0.0016,0,0.0031,0.1,0.0031,0.2,0.0031,0.3,0.0031,0.4,0.0031,0.5,0.0031,0.6,0.0031,0.7,0.0031,0.8,0.0031,0.9,0.0031,1,0.0031,0,0.0797,0.1,0.0797,0.2,0.0797,0.3,0.0797,0.4,0.0797,0.5,0.0797,0.6,0.0797,0.7,0.0797,0.8,0.0797,0.9,0.0797,1,0.0797,0,0.0797,0.1,0.0797,0.2,0.0797,0.3,0.0797,0.4,0.0797,0.5,0.0797,0.6,0.0797,0.7,0.0797,0.8,0.0797,0.9,0.0797,1,0.0797,0,0.9766,0.1,0.9766,0.2,0.9766,0.3,0.9766,0.4,0.9766,0.5,0.9766,0.6,0.9766,0.7,0.9766,0.8,0.9766,0.9,0.9766,1,0.9766,0,0.9844,0.1,0.9844,0.2,0.9844,0.3,0.9844,0.4,0.9844,0.5,0.9844,0.6,0.9844,0.7,0.9844,0.8,0.9844,0.9,0.9844,1,0.9844,0,0.9992,0.1,0.9992,0.2,0.9992,0.3,0.9992,0.4,0.9992,0.5,0.9992,0.6,0.9992,0.7,0.9992,0.8,0.9992,0.9,0.9992,1,0.9992,0,1,0.1,1,0.2,1,0.3,1,0.4,1,0.5,1,0.6,1,0.7,1,0.8,1,0.9,1,1,1,0,1,0.1,1,0.2,1,0.3,1,0.4,1,0.5,1,0.6,1,0.7,1,0.8,1,0.9,1,1,1), nrow = 2L),

  # Vertex normals (optional)
  normal = matrix(c(
    0,0,1,-0.5878,0,0.809,-0.9511,0,0.309,-0.9511,0,-0.309,-0.5878,0,-0.809,0,0,-1,0.5878,0,-0.809,0.9511,0,-0.309,0.9511,0,0.309,0.5878,0,0.809,0,0,1,0,0,1,-0.5878,0,0.809,-0.9511,0,0.309,-0.9511,0,-0.309,-0.5878,0,-0.809,0,0,-1,0.5878,0,-0.809,0.9511,0,-0.309,0.9511,0,0.309,0.5878,0,0.809,0,0,1,0,0,1,-0.5878,0,0.809,-0.9511,0,0.309,-0.9511,0,-0.309,-0.5878,0,-0.809,0,0,-1,0.5878,0,-0.809,0.9511,0,-0.309,0.9511,0,0.309,0.5878,0,0.809,0,0,1,0,0,1,-0.5878,0,0.809,-0.9511,0,0.309,-0.9511,0,-0.309,-0.5878,0,-0.809,0,0,-1,0.5878,0,-0.809,0.9511,0,-0.309,0.9511,0,0.309,0.5878,0,0.809,0,0,1,0,0,1,-0.5878,0,0.809,-0.9511,0,0.309,-0.9511,0,-0.309,-0.5878,0,-0.809,0,0,-1,0.5878,0,-0.809,0.9511,0,-0.309,0.9511,0,0.309,0.5878,0,0.809,0,0,1,0,0,1,-0.5878,0,0.809,-0.9511,0,0.309,-0.9511,0,-0.309,-0.5878,0,-0.809,0,0,-1,0.5878,0,-0.809,0.9511,0,-0.309,0.9511,0,0.309,0.5878,0,0.809,0,0,1,0,0,1,-0.5878,0,0.809,-0.9511,0,0.309,-0.9511,0,-0.309,-0.5878,0,-0.809,0,0,-1,0.5878,0,-0.809,0.9511,0,-0.309,0.9511,0,0.309,0.5878,0,0.809,0,0,1,0,0,1,-0.5878,0,0.809,-0.9511,0,0.309,-0.9511,0,-0.309,-0.5878,0,-0.809,0,0,-1,0.5878,0,-0.809,0.9511,0,-0.309,0.9511,0,0.309,0.5878,0,0.809,0,0,1,0,0,1,-0.5878,0,0.809,-0.9511,0,0.309,-0.9511,0,-0.309,-0.5878,0,-0.809,0,0,-1,0.5878,0,-0.809,0.9511,0,-0.309,0.9511,0,0.309,0.5878,0,0.809,0,0,1,0,0,1,-0.5878,0,0.809,-0.9511,0,0.309,-0.9511,0,-0.309,-0.5878,0,-0.809,0,0,-1,0.5878,0,-0.809,0.9511,0,-0.309,0.9511,0,0.309,0.5878,0,0.809,0,0,1,0,0,1,-0.5878,0,0.809,-0.9511,0,0.309,-0.9511,0,-0.309,-0.5878,0,-0.809,0,0,-1,0.5878,0,-0.809,0.9511,0,-0.309,0.9511,0,0.309,0.5878,0,0.809,0,0,1), nrow = 3L),

  # texture dimensions (int x int)
  texture_size = c(1L, 1L),

  # texture map: how channel is mapped to texture pixels; default is auto
  channel_map = NULL
)

electrode <- ElectrodePrototype$new()$from_list(config)
electrode$as_json(to_file = sprintf("inst/prototypes/%s.json", config$name))

if(interactive()) {
  electrode$set_texture_size(c(2,20))
  invisible(electrode$get_texture(seq_len(electrode$n_channels), plot = TRUE))

  electrode$preview_texture()

  if( system.file(package = "rgl") != '' ) {
    electrode$preview_3d()
  }
}

